# 보스몬스터

## 궁금한점 
1. 기능 목록을 작성하고 작성해도 이게 최선일까라는 생각이 듭니다. 어떤 내용이 들어가야 좋은 기능목록이라 생각하시나요?

2. 좀더 좋은 객체지향이 무엇인지 이것이 이 객체가 가져야하는 책임인지 많이 헷갈리내요 리뷰해주시는 분의 좋은 객체지향이란 무엇인지 궁금합니다. 또한 책임을 어떻게 나누시는지도 궁금합니다!

3. 뷰가 유효성검사를 해도될까요? 뷰를 프론트라 생각하면 뷰와 컨트롤러 둘다 해야된다 생각하지만 이 상황이라면 컨트롤러에서 유효성검사와 변환을 해주는 일을 해주는게 맞지않을까?란 생각이듭니다.혹시 어떻게 생각하시나요?
그리고 DTO를 통해 유효성 검사와 변환을 하는 작업은 어떻게 생각하시는지 궁금합니다.

4. 객체가 어떤 행동을 하려면 자기가 직접 생성하던가 아님 매개변수로 받던가 아님 인스턴스변수로 가지고 있어야합니다. 어떤 상황에서 매개변수 어떤 상황에서는 인스턴스변수라는 기준을 가지고 계실까요?

보스몬스터 게임에서는 플레이어가 보스몬스터를 공격할때 Player.attack(Monster)라는 매개변수를 이용하였습니다. 

이유는 Player가 Monster라는 고정적인 상태를 가지고 있을 이유는 없었으므로 인스턴스 변수는 제외하였고 직접 new로 생성해 사용하는것이 아니라 특정 몬스터를 공격해야 하므로 매개변수를 Monster로 받았습니다.
저는 이렇게 생각이 들어 구현을 했지만 리뷰어 분은 다른 생각을 하실지 해서 질문드립니다.

5. Monster객체를 보면 receiveDamage(int damage)라는 메서드가 있습니다. 
Player 객체는 직접 스킬을 지정해주어야하므로 외부에서 주입을 받았지만 Monster는 외부에서 주입을 받는것이나 내부에서 직접 데미지를 생성하는것이나 크게 다를게 없다라고 느껴지게 되었는데 일단 저는 외부에서 주입을 받는것으로 구현을 하였습니다.
이유는 외부에서 주입을 하는것으로 하면 테스트하기가 용이해진다라고 생각하여 구현하였는데 혹시 리뷰어 분은 어떻게 생각하시는지 궁금하여 질문드립니다.


## 기능 목록 작성

### Domain

#### MonsterGame
1. 게임 생성(플레이어,보스몬스터)
2. 보스몬스터 공격기능
3. 플레이어 공격기능
4. 게임 진행 여부 확인
5. 플레이어가 이겼는지 확인
6. 몬스터가 살아있나 확인

#### Player
1. 플레이어 생성기능(이름,hp,mp)
    1. 이름 5글자 이하인지 확인
    2. hp+mp가 200인지 확인
2. 보스몬스터 공격 기능
    1. 스킬 사용할 수 있는지 확인
    2. 보스몬스터는 공격(스킬 데미지)을 받는다.
    3. mp회복 또는 감소
3. 보스몬스터에게 데미지를 입는 기능
4. 플레이어 살아있는지 확인기능(hp>0이상)
5. 이름,HP,MP 구하는 기능(get, 출력)

PlayerStats,PlayerHp,PlayerMp,PlayerName 생략

#### Monster
1. 몬스터 생성기능(hp)
2. 살아있는지 확인 기능
3. 죽어있는지 확인 기능
4. 플레이어 공격 기능(damage) => damage를 매개변수로 놔둔이유는 게임이 몬스터야 이데미지만큼 플레이어 공격해줘라고 인식했기때문
5. 플레이어에게 데미지를 입는 기능

#### MonsterHp
1. MonsterHp 생성기능(hp)
   1. hp가 100이상 300이하인지 유효성 체크

#### Skill
1. skill 구하기(String skillNo)
2. 스킬 데미지 구하기
3. 스킬 MP구하기
4. 스킬 이름 구하기

#### BossDamageGenerator
1. 랜덤한 데미지 생성 기능

### VIEW
#### 입력
1.  보스몬스터 HP 입력 기능
    1. HP를 입력해달라한다
    2. 유효성 검사
        1. 빈칸이라면 예외를 발생시켜 다시입력하게한다.
        2. 숫자가 아니라면 예외를 발생시켜 다시입력하게한다.
    3. hp를 리턴한다.
2.  플레이어 이름 입력 기능
    1. 이름을 입력한다.
    2. 유효성 검사
        1. 빈칸이라면 예외를 발생시켜 다시 입력하게한다.
    3. 이름을 리턴한다.
3.  플레이어 HP,MP 입력 기능
    1. HP,MP를 ,기준으로 입력해달라고한다.
    2. 입력에 대한 유효성검사를 한다.
        1. 빈칸이라면 예외를 발생시코 다시 입력하게 한다.
        2. 숫자,숫자 형식이 아니라면 예외를 발생시키고 다시 입력하게한다.
    3. hp와 mp를 리턴해준다 (DTO로 리턴해주면 좋을듯) << VIEW가 할 책임일까?
4.  물리,마법 공격 선택 입력 기능
    1. 스킬을 입력 해달라고한다.
    2. 유효성 검사
        1. 빈칸인지 확인한다.
        2. 숫자인지 확인한다.
    3. 스킬 입력값 리턴

### 출력
1. 게임 시작 문구
1. 보스몬스터 HP 출력기능 => 보스몬스터 HP 필요
2. 플레이어 이름,HP,MP 출력 => 플레이어 필요 이름,HP,MP 필요
3. 플레이어가 선택한 공격유형,데미지 출력 => 공격 유형, 데미지
4. 보스몬스터 데미지 출력 => 랜덤값(데미지) 필요
5. 레이드 성공 문구 출력 => 플레이어 이름, 게임 시도 횟수
6. 레이드 실패 문구 출력 => 플레이어 이름

## 게임 진행 흐름
1. 게임기 전원을 킨다.(게임이란 세상이 시작된다.)
2. 게임을 생성(초기화)하기 위해 정보를 받는다.
    1.  보스몬스터 HP를 입력받는다. (보스몬스터를 생성한다.)
        1. HP는 100이상 300이하여야한다.
    2. 플레이어 이름,HP,MP를 입력받는다 (플레이어를 생성한다.)
        1. 이름 유효성
            1. 이름은 빈칸이면안된다.
            2. 이름은 5글자 이하여야한다.
        2. HP,MP 유효성
            1. 빈칸이면 안된다.
            2. 숫자,숫자 형식으로 구성되어있어야한다.
            3. HP와 MP의 합은 200이여야한다.
3.  게임을 플레이 한다.
    1. 게임을 플레이할 수 있는지(진행중인지) 확인한다. (진행 중은 보스몬스터와 플레이어가 둘다 살아있어야 진행중인상태이다)
        1. 플레이 할 수 있다면 아래 단계를 게임이 종료될때 까지 반복한다.
            1. 게임 시작 문구와 함께 플레이어 정보와 보스몬스터 정보를 출력한다.
            2. 플레이어가 공격한다.
                1. 플레이어에게 스킬창을 보여주고 스킬을 선택해달라고한다.
                    1. 1,2번을 선택하지 않았다면 다시 선택해달라고한다.
                2. 선택한 스킬로 플레이어는 보스몬스터를 공격한다.
                    1. 선택한 스킬을 사용할 수 있는지 확인한다.
                        1. 사용하지 못한다면 스킬을 다시 선택해달라고 한다.
                    2. 보스몬스터를 스킬데미지만큼 피해를 입힌다. (보스몬스터는 피해를 받는다.)
                    3. MP를 회복하거나 감소시킨다.
                3. 플레이어가 선택한 스킬과 입힌 데미지를 출력한다.
            3. 보스몬스터가 공격한다.
                1. 살아 있다면 공격을 진행한다.
                    1. 플레이어를 랜덤한 값으로 공격한다.(플레이어는 피해를 받는다.)
                    2. 플레이어에게 입힌데미지를 출력한다.
                2. 죽었다면 공격을 하지 않는다.
            4.  보스몬스터가 살아있는지 확인한다.
                1. 살아 있다면 플레이어 정보와 보스몬스터 정보를 출력한다.
            5. 다시 게임상태가 진행중인지 확인한다  즉 1번으로 돌아간다.
        2. 플레이 할 수 없다면 플레이를 종료한다.

4. 게임 결과를 출력한다.
    1. 플레이어가 이겼다면 플레이어 이름과 시도횟수와 함께 레이드 성곰 메시지 출력
    2. 플레이어가 졌다면 플레이어 이름과 함께 레이드 실패 메시지 출력

> 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.



